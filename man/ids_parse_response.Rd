% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ids.R
\name{ids_parse_response}
\alias{ids_parse_response}
\title{Parse the response from the "Atlas du Patrimoine" RSS service}
\usage{
ids_parse_response(res)
}
\arguments{
\item{res}{A \code{httr2_response} object, typically obtained from
\code{\link[=ids_perform_request]{ids_perform_request()}}. If \code{NULL} or invalid, an empty \code{data.frame} is returned.}
}
\value{
A \code{data.frame} with the following columns:
\describe{
\item{id}{Numeric identifier extracted from the GUID.}
\item{title}{Record title as published in the RSS feed.}
\item{guid}{Full GUID (unique resource identifier).}
}
Returns an empty \code{data.frame} if the response is \code{NULL}, has a non-200 status,
or contains no items.
}
\description{
This internal helper parses the XML response returned by \code{\link[=ids_perform_request]{ids_perform_request()}}
to extract and format dataset metadata items (titles and GUIDs) published
in the French Ministry of Culture's GeoSource RSS feed.
}
\details{
The function reads the XML structure of the RSS feed and extracts all
\verb{<item>} elements, retrieving their \code{title} and \code{guid} fields.
It also derives a simplified numeric identifier (\code{id}) from the \code{guid}
field when it follows the \code{"MD_XXXX"} pattern.

This parsing step provides a lightweight summary of the available records
before any subsequent data download or processing.
}
\examples{
\dontrun{
bbox <- list(left = -2.5, right = -1.0, bottom = 47.0, top = 47.8)
url  <- ids_build_url(extent = bbox, insee_dep = "44")
res  <- ids_perform_request(url)
df   <- ids_parse_response(res)
head(df)
}

}
\seealso{
\code{\link[=ids_build_url]{ids_build_url()}} for URL construction, \code{\link[=ids_perform_request]{ids_perform_request()}} for HTTP request execution.
}
\keyword{internal}
